<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Quản lý Tin tức</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#d70018',
                        secondary: '#f3f3f3',
                        dark: '#1f2937'
                    }
                }
            }
        }
    </script>
    <style>
        /* Ẩn thanh cuộn cho đẹp nhưng vẫn cuộn được */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

    <div class="flex h-screen overflow-hidden">
        
        <!-- SIDEBAR (Menu trái) -->
        <aside class="w-64 bg-dark text-white flex-shrink-0 hidden md:flex flex-col">
            <div class="p-6 border-b border-gray-700 flex items-center gap-3">
                <i class="fa-solid fa-mobile-screen-button text-2xl text-primary"></i>
                <span class="font-bold text-xl tracking-wider">PHONE STORE</span>
            </div>
            
            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1">
                    <li>
                        <a href="#" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
                            <i class="fa-solid fa-gauge w-5 text-center"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
                            <i class="fa-solid fa-box w-5 text-center"></i> Sản phẩm
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
                            <i class="fa-solid fa-cart-shopping w-5 text-center"></i> Đơn hàng
                        </a>
                    </li>
                    <!-- Active Link -->
                    <li>
                        <a href="#" class="flex items-center gap-3 px-6 py-3 bg-primary text-white shadow-lg">
                            <i class="fa-regular fa-newspaper w-5 text-center"></i> Tin tức
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
                            <i class="fa-solid fa-users w-5 text-center"></i> Khách hàng
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="p-4 border-t border-gray-700">
                <a href="#" class="flex items-center gap-3 text-gray-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-right-from-bracket"></i> Đăng xuất
                </a>
            </div>
        </aside>

        <!-- MAIN CONTENT (Nội dung chính) -->
        <div class="flex-1 flex flex-col overflow-hidden">
            
            <!-- HEADER -->
            <header class="bg-white shadow-sm h-16 flex items-center justify-between px-6 z-10">
                <div class="flex items-center gap-4">
                    <button class="md:hidden text-gray-600"><i class="fa-solid fa-bars text-xl"></i></button>
                    <h2 class="text-xl font-bold text-gray-800">Quản lý Tin tức</h2>
                </div>
                <div class="flex items-center gap-4">
                    <button class="relative p-2 text-gray-400 hover:text-primary">
                        <i class="fa-solid fa-bell"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <div class="flex items-center gap-2">
                        <img src="https://ui-avatars.com/api/?name=Admin&background=random" class="w-8 h-8 rounded-full border border-gray-300">
                        <span class="font-medium text-sm hidden sm:block">Admin User</span>
                    </div>
                </div>
            </header>

            <!-- MAIN SCROLL AREA -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6">
                
                <!-- TOOLBAR (Tìm kiếm & Thêm mới) -->
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                    <!-- Search -->
                    <div class="relative w-full md:w-96">
                        <input type="text" placeholder="Tìm kiếm tin tức..." class="w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary bg-white">
                        <i class="fa-solid fa-magnifying-glass absolute left-3 top-3 text-gray-400"></i>
                    </div>
                    <!-- Buttons Group -->
                    <div class="flex gap-3">
                        <button onclick="openCategoryModal()" class="bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg shadow-sm flex items-center gap-2 transition-transform active:scale-95">
                            <i class="fa-solid fa-list"></i> Quản lý danh mục
                        </button>
                        <button onclick="openModal()" class="bg-primary hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow-md flex items-center gap-2 transition-transform active:scale-95">
                            <i class="fa-solid fa-plus"></i> Thêm bài viết
                        </button>
                    </div>
                </div>

                <!-- DATA TABLE -->
                <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-50 text-gray-600 text-sm uppercase tracking-wider border-b">
                                    <th class="p-4 font-semibold w-16">ID</th>
                                    <th class="p-4 font-semibold w-24">Hình ảnh</th>
                                    <th class="p-4 font-semibold">Tiêu đề bài viết</th>
                                    <th class="p-4 font-semibold w-32">Danh mục</th>
                                    <th class="p-4 font-semibold w-32">Tác giả</th>
                                    <th class="p-4 font-semibold w-32 text-center">Trạng thái</th>
                                    <th class="p-4 font-semibold w-32 text-center">Hành động</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100 text-sm">
                                <!-- Row 1 -->
                                <tr class="hover:bg-gray-50 transition-colors group">
                                    <td class="p-4 text-gray-500">#1024</td>
                                    <td class="p-4">
                                        <img src="https://cdn.sforum.vn/sforum/wp-content/uploads/2023/09/danh-gia-iphone-15-pro-max-1.jpg" class="w-16 h-10 object-cover rounded border">
                                    </td>
                                    <td class="p-4">
                                        <div class="font-semibold text-gray-800 group-hover:text-primary cursor-pointer line-clamp-1">
                                            Đánh giá chi tiết iPhone 15 Pro Max sau 6 tháng
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">Cập nhật: 20/05/2024</div>
                                    </td>
                                    <td class="p-4"><span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold">Đánh giá</span></td>
                                    <td class="p-4 text-gray-600">Minh Tuấn</td>
                                    <td class="p-4 text-center">
                                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold border border-green-200">
                                            Hiển thị
                                        </span>
                                    </td>
                                    <td class="p-4 text-center">
                                        <div class="flex justify-center gap-2">
                                            <button onclick="openModal()" class="w-8 h-8 rounded bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-colors" title="Sửa">
                                                <i class="fa-solid fa-pen-to-square"></i>
                                            </button>
                                            <button onclick="confirmDelete()" class="w-8 h-8 rounded bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-colors" title="Xóa">
                                                <i class="fa-solid fa-trash-can"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Row 2 -->
                                <tr class="hover:bg-gray-50 transition-colors group">
                                    <td class="p-4 text-gray-500">#1023</td>
                                    <td class="p-4">
                                        <img src="https://cdn.sforum.vn/sforum/wp-content/uploads/2024/01/galaxy-ai-samsung-s24-series-thumb.jpg" class="w-16 h-10 object-cover rounded border">
                                    </td>
                                    <td class="p-4">
                                        <div class="font-semibold text-gray-800 group-hover:text-primary cursor-pointer line-clamp-1">
                                            5 mẹo dùng Galaxy S24 Ultra cực hay
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">Cập nhật: 19/05/2024</div>
                                    </td>
                                    <td class="p-4"><span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold">Mẹo hay</span></td>
                                    <td class="p-4 text-gray-600">Tuấn Anh</td>
                                    <td class="p-4 text-center">
                                        <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-bold border border-gray-200">
                                            Bản nháp
                                        </span>
                                    </td>
                                    <td class="p-4 text-center">
                                        <div class="flex justify-center gap-2">
                                            <button onclick="openModal()" class="w-8 h-8 rounded bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-colors">
                                                <i class="fa-solid fa-pen-to-square"></i>
                                            </button>
                                            <button onclick="confirmDelete()" class="w-8 h-8 rounded bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-colors">
                                                <i class="fa-solid fa-trash-can"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- PAGINATION -->
                    <div class="p-4 border-t border-gray-200 flex items-center justify-between">
                        <span class="text-sm text-gray-500">Hiển thị 1-10 trên tổng số 45 bài viết</span>
                        <div class="flex gap-1">
                            <button class="px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50"><i class="fa-solid fa-angle-left"></i></button>
                            <button class="px-3 py-1 border rounded bg-primary text-white">1</button>
                            <button class="px-3 py-1 border rounded hover:bg-gray-100">2</button>
                            <button class="px-3 py-1 border rounded hover:bg-gray-100">3</button>
                            <button class="px-3 py-1 border rounded hover:bg-gray-100"><i class="fa-solid fa-angle-right"></i></button>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <!-- MODAL THÊM/SỬA TIN TỨC (Giữ nguyên) -->
    <div id="newsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto transform transition-all scale-100">
            <!-- Modal Header -->
            <div class="p-6 border-b flex justify-between items-center sticky top-0 bg-white z-10">
                <h3 class="text-xl font-bold text-gray-800">Thông tin bài viết</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-red-500 transition-colors">
                    <i class="fa-solid fa-xmark text-2xl"></i>
                </button>
            </div>
            <!-- Modal Body (Form) -->
            <div class="p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Tiêu đề bài viết</label>
                        <input type="text" class="w-full border rounded-lg px-3 py-2 focus:ring-primary focus:border-primary" placeholder="Nhập tiêu đề...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Danh mục</label>
                        <select class="w-full border rounded-lg px-3 py-2 focus:ring-primary focus:border-primary">
                            <option>Tin tức chung</option>
                            <option>Đánh giá sản phẩm</option>
                            <option>Mẹo hay</option>
                            <option>Khuyến mãi</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Ảnh đại diện (URL)</label>
                    <div class="flex gap-2">
                        <input type="text" class="flex-1 border rounded-lg px-3 py-2 focus:ring-primary focus:border-primary" placeholder="https://...">
                        <button class="bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded-lg text-sm font-medium">Upload</button>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Mô tả ngắn</label>
                    <textarea class="w-full border rounded-lg px-3 py-2 focus:ring-primary focus:border-primary h-20" placeholder="Tóm tắt nội dung..."></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Nội dung chi tiết</label>
                    <div class="border rounded-lg overflow-hidden focus-within:ring-1 focus-within:ring-primary focus-within:border-primary">
                        <div class="bg-gray-50 border-b p-2 flex gap-2">
                            <button class="p-1 hover:bg-gray-200 rounded"><i class="fa-solid fa-bold text-gray-600"></i></button>
                            <button class="p-1 hover:bg-gray-200 rounded"><i class="fa-solid fa-italic text-gray-600"></i></button>
                            <button class="p-1 hover:bg-gray-200 rounded"><i class="fa-solid fa-list-ul text-gray-600"></i></button>
                            <button class="p-1 hover:bg-gray-200 rounded"><i class="fa-solid fa-link text-gray-600"></i></button>
                            <button class="p-1 hover:bg-gray-200 rounded"><i class="fa-solid fa-image text-gray-600"></i></button>
                        </div>
                        <textarea class="w-full p-3 h-40 focus:outline-none" placeholder="Viết nội dung bài viết ở đây..."></textarea>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <label class="block text-sm font-medium text-gray-700">Trạng thái:</label>
                    <div class="flex items-center gap-4">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="radio" name="status" checked class="text-primary focus:ring-primary">
                            <span>Hiển thị</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="radio" name="status" class="text-primary focus:ring-primary">
                            <span>Bản nháp</span>
                        </label>
                    </div>
                </div>
            </div>
            <!-- Modal Footer -->
            <div class="p-6 border-t bg-gray-50 flex justify-end gap-3 rounded-b-xl">
                <button onclick="closeModal()" class="px-4 py-2 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors">Hủy bỏ</button>
                <button onclick="saveNews()" class="px-6 py-2 bg-primary text-white font-bold rounded-lg hover:bg-red-700 shadow-lg shadow-red-500/30 transition-all">Lưu bài viết</button>
            </div>
        </div>
    </div>

    <!-- NEW MODAL: QUẢN LÝ DANH MỤC -->
    <div id="categoryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all scale-100">
            <!-- Modal Header -->
            <div class="p-5 border-b flex justify-between items-center">
                <h3 class="text-lg font-bold text-gray-800">Quản lý Danh mục</h3>
                <button onclick="closeCategoryModal()" class="text-gray-400 hover:text-red-500 transition-colors">
                    <i class="fa-solid fa-xmark text-xl"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="p-5">
                <!-- Add New Category Form -->
                <div class="flex gap-2 mb-6">
                    <input type="text" id="newCategoryInput" class="flex-1 border rounded-lg px-3 py-2 focus:ring-primary focus:border-primary text-sm" placeholder="Nhập tên danh mục mới...">
                    <button onclick="addCategory()" class="bg-primary text-white px-3 py-2 rounded-lg text-sm font-bold hover:bg-red-700 whitespace-nowrap">
                        <i class="fa-solid fa-plus mr-1"></i> Thêm
                    </button>
                </div>

                <!-- Category List -->
                <div class="space-y-2">
                    <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Danh sách hiện tại</h4>
                    <div class="max-h-64 overflow-y-auto pr-1 space-y-2">
                        <!-- Item 1 -->
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:bg-white hover:shadow-sm transition-all">
                            <span class="text-gray-700 font-medium text-sm">Tin tức chung</span>
                            <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="text-blue-500 hover:bg-blue-100 p-1.5 rounded"><i class="fa-solid fa-pen text-xs"></i></button>
                                <button class="text-red-500 hover:bg-red-100 p-1.5 rounded"><i class="fa-solid fa-trash text-xs"></i></button>
                            </div>
                        </div>
                        <!-- Item 2 -->
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:bg-white hover:shadow-sm transition-all">
                            <span class="text-gray-700 font-medium text-sm">Đánh giá sản phẩm</span>
                            <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="text-blue-500 hover:bg-blue-100 p-1.5 rounded"><i class="fa-solid fa-pen text-xs"></i></button>
                                <button class="text-red-500 hover:bg-red-100 p-1.5 rounded"><i class="fa-solid fa-trash text-xs"></i></button>
                            </div>
                        </div>
                        <!-- Item 3 -->
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:bg-white hover:shadow-sm transition-all">
                            <span class="text-gray-700 font-medium text-sm">Mẹo hay</span>
                            <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="text-blue-500 hover:bg-blue-100 p-1.5 rounded"><i class="fa-solid fa-pen text-xs"></i></button>
                                <button class="text-red-500 hover:bg-red-100 p-1.5 rounded"><i class="fa-solid fa-trash text-xs"></i></button>
                            </div>
                        </div>
                         <!-- Item 4 -->
                         <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:bg-white hover:shadow-sm transition-all">
                            <span class="text-gray-700 font-medium text-sm">Khuyến mãi</span>
                            <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="text-blue-500 hover:bg-blue-100 p-1.5 rounded"><i class="fa-solid fa-pen text-xs"></i></button>
                                <button class="text-red-500 hover:bg-red-100 p-1.5 rounded"><i class="fa-solid fa-trash text-xs"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-4 border-t bg-gray-50 rounded-b-xl text-right">
                <button onclick="closeCategoryModal()" class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-100">Đóng</button>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT XỬ LÝ SỰ KIỆN -->
    <script>
        // --- XỬ LÝ MODAL TIN TỨC ---
        function openModal() {
            const modal = document.getElementById('newsModal');
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.querySelector('div').classList.remove('scale-95', 'opacity-0');
                modal.querySelector('div').classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('newsModal');
            modal.classList.add('hidden');
        }

        function confirmDelete() {
            if(confirm("Bạn có chắc chắn muốn xóa bài viết này không? Hành động này không thể hoàn tác.")) {
                alert("Đã xóa bài viết thành công!");
            }
        }

        function saveNews() {
            alert("Đã lưu thông tin bài viết thành công!");
            closeModal();
        }

        // --- XỬ LÝ MODAL DANH MỤC (MỚI) ---
        function openCategoryModal() {
            const modal = document.getElementById('categoryModal');
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.querySelector('div').classList.remove('scale-95', 'opacity-0');
                modal.querySelector('div').classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeCategoryModal() {
            const modal = document.getElementById('categoryModal');
            modal.classList.add('hidden');
        }

        function addCategory() {
            const input = document.getElementById('newCategoryInput');
            if (input.value.trim() !== "") {
                alert("Đã thêm danh mục: " + input.value);
                input.value = ""; // Reset input
                // Ở đây bạn sẽ thêm logic thêm DOM thật hoặc gọi API
            } else {
                alert("Vui lòng nhập tên danh mục!");
            }
        }

        // Đóng modal khi click ra ngoài (Áp dụng cho cả 2 modal)
        window.onclick = function(event) {
            const newsModal = document.getElementById('newsModal');
            const catModal = document.getElementById('categoryModal');
            if (event.target == newsModal) {
                closeModal();
            }
            if (event.target == catModal) {
                closeCategoryModal();
            }
        }
    </script>
</body>
</html>